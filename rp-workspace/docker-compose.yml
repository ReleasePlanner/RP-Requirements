version: "3.8"

# Docker Compose Maestro
# Este archivo puede usarse para desarrollo local o como referencia
# Para producción con DockerDeploy, usar los archivos individuales en services/

# NOTA: DockerDeploy espera que cada servicio tenga su propio docker-compose.yml
# en services/<service-name>/docker-compose.yml

# Para deployment individual con DockerDeploy, usar:
# - services/api/docker-compose.yml
# - services/portal/docker-compose.yml
# - services/postgres/docker-compose.yml
# - services/rabbitmq/docker-compose.yml
# - services/prometheus/docker-compose.yml
# - services/grafana/docker-compose.yml

# Este archivo se mantiene para compatibilidad con desarrollo local
# pero DockerDeploy usará los archivos individuales en services/

services:
  # Los servicios están definidos en sus respectivos directorios:
  # - services/api/docker-compose.yml
  # - services/portal/docker-compose.yml
  # - services/postgres/docker-compose.yml
  # - services/rabbitmq/docker-compose.yml
  # - services/prometheus/docker-compose.yml
  # - services/grafana/docker-compose.yml

  # Para desarrollo local, puedes usar este archivo combinado
  # o referenciar los archivos individuales

networks:
  rp-network:
    driver: bridge
    name: rp-requirements-network
  suite-global:
    external: true
    name: suite-beyondnet-global

volumes:
  postgres_data:
    name: rp-requirements-postgres-data
    driver: local
  rabbitmq_data:
    name: rp-requirements-rabbitmq-data
    driver: local
  prometheus_data:
    name: rp-requirements-prometheus-data
    driver: local
  grafana_data:
    name: rp-requirements-grafana-data
    driver: local
  api_logs:
    name: rp-requirements-api-logs
    driver: local
